import{Fragment,h}from"@stencil/core";import{state}from"../../../../store/upsell/index";import{__,sprintf}from"@wordpress/i18n";export class ScUpsellTotals{renderAmountDue(){var e,t;return state.amount_due>0?null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_display_amount:(null===(t=null==state?void 0:state.line_item)||void 0===t?void 0:t.trial_amount)?__("Trial","surecart"):__("Free","surecart")}getCurrencyToDisplay(){var e,t,l,i,a,s,n;return(null===(l=null===(t=null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_default_currency_display_amount)||void 0===t?void 0:t.toLowerCase())||void 0===l?void 0:l.includes(null===(a=null===(i=null==state?void 0:state.line_item)||void 0===i?void 0:i.currency)||void 0===a?void 0:a.toLowerCase()))?"":null===(n=null===(s=null==state?void 0:state.line_item)||void 0===s?void 0:s.currency)||void 0===n?void 0:n.toUpperCase()}renderConversion(){var e,t,l,i,a,s;const n=null==state?void 0:state.checkout;return(null==n?void 0:n.show_converted_total)?(null==n?void 0:n.currency)===(null==n?void 0:n.current_currency)?null:(null===(e=null==state?void 0:state.line_item)||void 0===e?void 0:e.total_amount)?h(Fragment,null,h("sc-divider",null),h("sc-line-item",{style:{"--price-size":"var(--sc-font-size-x-large)"}},h("span",{slot:"title"},h("slot",{name:"charge-amount-description"},sprintf(__("Payment Total","surecart"),null===(l=null===(t=null==state?void 0:state.line_item)||void 0===t?void 0:t.currency)||void 0===l?void 0:l.toUpperCase()))),h("span",{slot:"price"},this.getCurrencyToDisplay()&&h("span",{class:"currency-label"},this.getCurrencyToDisplay()),null===(i=null==state?void 0:state.line_item)||void 0===i?void 0:i.total_default_currency_display_amount)),h("sc-line-item",null,h("span",{slot:"description",class:"conversion-description"},sprintf(__("Your payment will be processed in %s.","surecart"),null===(s=null===(a=null==state?void 0:state.line_item)||void 0===a?void 0:a.currency)||void 0===s?void 0:s.toUpperCase())))):null:null}render(){var e,t,l,i,a,s,n;return h("sc-summary",{key:"d0d12a58c74d07ef3df64884fd83c14f1cdb91f1","open-text":"Total","closed-text":"Total",collapsible:!0,collapsed:!0},!!(null===(e=state.line_item)||void 0===e?void 0:e.id)&&h("span",{key:"a64782bc4695295a7aaf844035da31be972c3d5d",slot:"price"},this.renderAmountDue()),h("sc-divider",{key:"b4ddc70dbedafd762a4edafe3f5df24602cf5e02"}),h("sc-line-item",{key:"415e58357e653dd79aa311e7a604901bbe5e9e19"},h("span",{key:"05c22e31706d880770915afc9a96035005bc1d03",slot:"description"},__("Subtotal","surecart")),h("span",{key:"9bba8fbb76724f9f912fa40560a61507835820f0",slot:"price"},null===(t=state.line_item)||void 0===t?void 0:t.subtotal_display_amount)),((null===(i=null===(l=null==state?void 0:state.line_item)||void 0===l?void 0:l.fees)||void 0===i?void 0:i.data)||[]).filter((e=>"upsell"===e.fee_type)).map((e=>h("sc-line-item",null,h("span",{slot:"description"},e.description," ",`(${__("one time","surecart")})`),h("span",{slot:"price"},null==e?void 0:e.display_amount)))),!!(null===(a=state.line_item)||void 0===a?void 0:a.tax_amount)&&h("sc-line-item",{key:"253a7c26828cb55cfaefd429e9f67c38ceb431e0"},h("span",{key:"1ca1729c406b63c2e9dc81d3a230ef8e60ad8353",slot:"description"},__("Tax","surecart")),h("span",{key:"203dbda52aa43411007a9a3bb61bdb9b8bcea0f7",slot:"price"},null===(s=state.line_item)||void 0===s?void 0:s.tax_display_amount)),h("sc-divider",{key:"e2478a9ae4bd9caa0990d1a6ea4eb5430083028d"}),h("sc-line-item",{key:"0fca131b074ed922d33fc9f5cdf69bffd8be4438",style:{"--price-size":"var(--sc-font-size-x-large)"}},h("span",{key:"418c622522e2f3bd6c43c0be2757a5a5e8f5b67b",slot:"title"},__("Total","surecart")),h("span",{key:"db8f061f6ce6ddf011ad103aaf8cd90653bbf840",slot:"price"},null===(n=state.line_item)||void 0===n?void 0:n.total_display_amount)),this.renderConversion())}static get is(){return"sc-upsell-totals"}static get encapsulation(){return"shadow"}static get originalStyleUrls(){return{$:["sc-upsell-totals.css"]}}static get styleUrls(){return{$:["sc-upsell-totals.css"]}}}